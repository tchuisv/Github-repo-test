Docker: Open source tool used to create containers

Container: software/code user to package applications

JAR File problem
Using MAven we create JAR file (Application code) but not the environment

Why do we need containers
Scalable, fast and easy to manage, Portability

Monolithic -> Multiple servuice running on a single server
Micro service ->  Multiple service running on multiple services

Containers can be used as servers


Docker Architecture

CLIENT - Build Pull Run

DOCKER HOST - Docker Daemon (container and image)

REGISTRY  - House all docker images


STEPS
    1. create a container using an base image (ubuntu/amazonlinux/macos)
        docker pull ubuntu (Pull image from docker hub)
        docker run container-name (create container using the pulled image)

    2. Install the required pacakages inside the container
        install mvn
        install git
        install my-sql
        install apache

    3. Run the application inside the container
        run the application

    4. Create a project image using the container image (Backup)
        docker commit container-name

    5. Create another copy of the container-backup using the project-image



-install docker on ec2... yum install docker
-Start docker ..systemctl start docker
- You can check teh status after starting ..systemctl status docker
-Pull the base image .....docker pull ubuntu
- Create container ---docker run -it --name container1 ubuntu _. this gets you into the container
update teh container --apt update
    isnatl the package ---apt install git,apt install maven, apt install apache2, sudo apt install openjdk-11-jdk
    -> apt update -y
            -> apt install git -y
            -> apt install maven -y
            -> apt install openjdk-11-jdk -y
            -> apt install apache2 -y
            -> apt install mysql-server -y
            -> apt install python3 -y

docker start container id  >>> to start a containerker stop


Use  Ctrl PQ to step out of container

Create a docker image with a container 
-docker commit container2 project-image
docker 

REMOTE into a docker container : -docker exec -it container2 bash
docker ps
docker stop container2


DOCKERFILE

Creating a sample WEB-server using the DOCKERFILE
1. index.html > Create a webpage
2. create a DOCKERFILE  
    confg the dockerfile with tools to run the webserver
3. Build docker image
4. 


FROM ubutu/amazonlinux
RUN apt update -y
RUN apt install git -y
RUN apt install apache2 -y
RUN apt install python3 -y
RUN apt install mysql-server
RUN apt install maven


yum install docker
2  mkdir project1
3  cd project1/
4  touch Dockerfile
5  vi Dockerfile 
6  ls
7  systemctl start docker.service 
8  systemctl status docker.service 
9  docker images
10  docker ps
11  ll
12  docker build -t image1 .
13  docker images
14  vi Dockerfile 
15  docker build -t image1 .
16  docker images
17  docker run it --first image1
18  docker run it --first ca0631572f5c
19  docker run -it --container23 image1
20  docker run -it container23 image1
21  docker run -it --name container23 image1



Creating Docker image using Dockerfile

we can use docker images for WEB APPS, NETFLIX APP, APP + DB, Mobile APP 

Steps

Create EC@ instance , install docker
create a project directory
pull a base image (web-ser >apache/ngnx)
index.html  > the html code
create docker file 
Create the docker image and run image
















